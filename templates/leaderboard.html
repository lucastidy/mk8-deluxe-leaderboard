{% extends "base.html" %}
{% block content %}
  <h2 class="map_title">{{ map_name }}</h2>

  <div class="board-wrapper">
    <table class="board">
      <thead>
        <tr><th>#</th><th>Player</th><th>Time</th></tr>
      </thead>
      <tbody>
        {% for entry in times %}
          <tr>
            <td>{{ loop.index }}</td>
            <td>{{ entry.name }}</td>
            <td>{{ "%02d:%02d:%03d"|format(entry.time_mins, entry.time_s, entry.time_ms) }}</td>
          </tr>
        {% else %}
          <tr><td colspan="3" class="empty">No times yet — be the first!</td></tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

  <h3>Submit a Time:</h3>
  <form method="POST" action="{{ url_for('submit') }}" class="submit-form">
    <input type="hidden" name="map_name" value="{{ map_name }}">
    <input type="text" name="name" placeholder="Your username" required>
    <input type="number" name="time_mins" step="0.01" min="0" placeholder="m" required>
    <input type="number" name="time_s" step="0.01" min="0" placeholder="s" required>
    <input type="number" name="time_ms" step="0.01" min="0" placeholder="ms" required>
    <button type="submit" class="submit-button">Submit!</button>
  </form>

  <p class="back-link"><a href="{{ url_for('index') }}">← Back to tracks</a></p>
  
{% endblock %}
